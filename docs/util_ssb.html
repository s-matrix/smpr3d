---

title: Util ssb


keywords: fastai
sidebar: home_sidebar

summary: "API details."
description: "API details."
nb_path: "nbs/01c_util_ssb.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/01c_util_ssb.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="disk_overlap_function" class="doc_header"><code>disk_overlap_function</code><a href="https://github.com/s-matrix/smpr3d/tree/master/smpr3d/util.py#L1578" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>disk_overlap_function</code>(<strong><code>Qx_all</code></strong>, <strong><code>Qy_all</code></strong>, <strong><code>Kx_all</code></strong>, <strong><code>Ky_all</code></strong>, <strong><code>aberrations</code></strong>, <strong><code>theta_rot</code></strong>, <strong><code>alpha</code></strong>, <strong><code>lam</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="AutoJitCUDAKernel object at 0x7f2569ae2580>" class="doc_header"><code>AutoJitCUDAKernel object at 0x7f2569ae2580></code><a href="" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>AutoJitCUDAKernel object at 0x7f2569ae2580></code>(<strong>*<code>args</code></strong>)</p>
</blockquote>
<p>CUDA Kernel object. When called, the kernel object will specialize itself
for the given arguments (if no suitable specialized version already exists)
&amp; compute capability, and launch on the device associated with the current
context.</p>
<p>Kernel objects are not to be constructed by the user, but instead are
created using the :func:<code>numba.cuda.jit</code> decorator.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="double_overlap_intensitities_in_range" class="doc_header"><code>double_overlap_intensitities_in_range</code><a href="https://github.com/s-matrix/smpr3d/tree/master/smpr3d/util.py#L1698" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>double_overlap_intensitities_in_range</code>(<strong><code>G_max</code></strong>, <strong><code>thetas</code></strong>, <strong><code>Qx_max</code></strong>, <strong><code>Qy_max</code></strong>, <strong><code>Kx</code></strong>, <strong><code>Ky</code></strong>, <strong><code>aberrations</code></strong>, <strong><code>aberration_angles</code></strong>, <strong><code>alpha_rad</code></strong>, <strong><code>lam</code></strong>, <strong><code>do_plot</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="find_rotation_angle_with_double_disk_overlap" class="doc_header"><code>find_rotation_angle_with_double_disk_overlap</code><a href="https://github.com/s-matrix/smpr3d/tree/master/smpr3d/util.py#L1716" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>find_rotation_angle_with_double_disk_overlap</code>(<strong><code>G</code></strong>, <strong><code>lam</code></strong>, <strong><code>k_max</code></strong>, <strong><code>dxy</code></strong>, <strong><code>alpha_rad</code></strong>, <strong><code>mask</code></strong>=<em><code>None</code></em>, <strong><code>n_fit</code></strong>=<em><code>6</code></em>, <strong><code>ranges</code></strong>=<em><code>[360, 30]</code></em>, <strong><code>partitions</code></strong>=<em><code>[144, 120]</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong><code>manual_frequencies</code></strong>=<em><code>None</code></em>, <strong><code>aberrations</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

<pre><code>Finds the best rotation angle by maximizing the double disk overlap intensity of the 4D dataset. Only valid
for datasets where the scan step size is roughly on the same length scale as the illumination half-angle alpha.

</code></pre>
<p>:param G: G function. 4DSTEM dataset Fourier transformed along the scan coordinates
:param lam:
:param k_max:
:param dxy:
:param alpha_rad:
:param n_fit: number of object spatial frequencies to fit
:param ranges:
:param verbose:
:return: the best rotation angle in radians.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

